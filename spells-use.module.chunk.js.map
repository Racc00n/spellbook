{"version":3,"sources":["/home/roy/Documents/Projects/spellbook/src/app/pipes/known.pipe.ts","/home/roy/Documents/Projects/spellbook/src/app/pipes/remaining-uses.pipe.ts","/home/roy/Documents/Projects/spellbook/src/app/spells-use/spells-use.component.html","/home/roy/Documents/Projects/spellbook/src/app/spells-use/spells-use.component.scss","/home/roy/Documents/Projects/spellbook/src/app/spells-use/spells-use.component.ts","/home/roy/Documents/Projects/spellbook/src/app/spells-use/spells-use.module.ts"],"names":[],"mappings":"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","file":"spells-use.module.chunk.js","sourcesContent":["import { Spell } from './../model/spell';\nimport { Pipe, PipeTransform } from '@angular/core';\n\n@Pipe({\n  name: 'known'\n})\nexport class KnownPipe implements PipeTransform {\n\n  transform(value: Spell[], args?: any): Spell[] {\n    return value.filter(spell => spell.metaData.known);\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// /home/roy/Documents/Projects/spellbook/src/app/pipes/known.pipe.ts","import { Pipe, PipeTransform } from '@angular/core';\nimport { Spell } from '../model/spell';\n\n@Pipe({\n  name: 'remainingUses',\n  pure: false\n})\nexport class RemainingUsesPipe implements PipeTransform {\n\n  transform(value: Spell[], args?: any): Spell[] {\n    return value.filter(spell => spell.metaData.remainingUses > 0);\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// /home/roy/Documents/Projects/spellbook/src/app/pipes/remaining-uses.pipe.ts","module.exports = \"<h1>\\n  <a title=\\\"Spells Setup\\\" [routerLink]=\\\"['/spells-setup']\\\"><i class=\\\"fa fa-chevron-left\\\" aria-hidden=\\\"true\\\"></i></a>\\n  Spells Use\\n</h1>\\n<div  *ngFor=\\\"let spellLevel of (spellLevelsState|async).spellLevels\\\" [hidden]=\\\"tbody.children.length === 0\\\">\\n  <h2 class=\\\"alert-dark\\\">Level {{spellLevel.label}} </h2>\\n  <div class=\\\"content\\\">\\n    <table class=\\\"table\\\">\\n      <thead class=\\\"thead-light\\\">\\n        <th>Remaining Uses</th>\\n        <th>Cast</th>\\n        <th>Name</th>\\n        <th>Description</th>\\n        <th>School</th>\\n        <th>Components</th>\\n        <th>Casting Time</th>\\n        <th>Range</th>\\n        <th>Target/Effect/Area</th>\\n        <th>Duration</th>\\n        <th>Save</th>\\n        <th>Spell Resistance</th>\\n      </thead>\\n\\n      <tbody #tbody>\\n        <tr [@spellRemoval] \\n            (@spellRemoval.done)=\\\"spellRemovalDone(tbody.children.length === 0)\\\" \\n            *ngFor=\\\"let spell of selectAllSpells(spellsState | async) | level: spellLevel.label: (spellsState | async).spellClass | known | remainingUses ; trackBy:spellsTrackBy\\\" >\\n          <td>{{spell.metaData.remainingUses}}</td>\\n          <td>\\n            <button class=\\\"btn btn-fab btn-primary\\\" (click)=\\\"castSpellClicked(spell)\\\">Cast</button>\\n          </td>\\n          <td>{{spell.name}}</td>\\n          <td >{{spell.shortdescription}}<br>\\n            <app-more-detail [text]=\\\"spell.description\\\"></app-more-detail>          \\n          </td>\\n          <td>{{spell.school}}</td>\\n          <td>{{spell.components}}</td>\\n          <td>{{spell.castingtime}}</td>\\n          <td>{{spell.range}}</td>\\n          <td>{{spell.target || spell.effect || spell.area}}</td>\\n          <td>{{spell.duration}}</td>\\n          <td>{{spell.savingthrow}}</td>\\n          <td>{{spell.spellresistance}}</td>\\n        </tr>\\n      </tbody>\\n    </table>\\n  </div>\\n</div>\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// /home/roy/Documents/Projects/spellbook/src/app/spells-use/spells-use.component.html\n// module id = ../../../../../src/app/spells-use/spells-use.component.html\n// module chunks = spells-use.module","exports = module.exports = require(\"../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \"h2 {\\n  position: -webkit-sticky;\\n  position: sticky;\\n  top: 3rem; }\\n\", \"\"]);\n\n// exports\n\n\n/*** EXPORTS FROM exports-loader ***/\nmodule.exports = module.exports.toString();\n\n\n//////////////////\n// WEBPACK FOOTER\n// /home/roy/Documents/Projects/spellbook/src/app/spells-use/spells-use.component.scss\n// module id = ../../../../../src/app/spells-use/spells-use.component.scss\n// module chunks = spells-use.module","import { UpdateSpellMetaData, StoreSpellMetaDatas } from './../stores/spell-meta-datas/spell-meta-datas.actions';\nimport { Observable } from 'rxjs/Observable';\nimport { AppState } from './../stores/app.reducers';\nimport { Component, OnInit, OnDestroy, ChangeDetectorRef } from '@angular/core';\nimport { state, trigger, transition, style, animate } from '@angular/animations';\nimport { Spell } from '../model/spell';\nimport { SpellLevel } from '../model/spell-level';\nimport { Store } from '@ngrx/store';\nimport { StoreSpellLevels } from '../stores/spell-levels/spell-levels.actions';\nimport * as fromSpellLevels from './../stores/spell-levels/spell-levels.reducers';\nimport * as fromSpells from './../stores/spells/spells.reducers';\nimport { SpellMetaData } from '../model/spell-meta-data';\n\n@Component({\n  selector: 'app-spells-use',\n  templateUrl: './spells-use.component.html',\n  styleUrls: ['./spells-use.component.scss'],\n  animations: [\n    trigger('spellRemoval', [      \n      transition(':leave', [\n        style({\n          opacity: 1,\n          transform: 'translateX(0)'\n        }),\n        animate(200, style({\n          transform: 'translateX(100px)',\n          opacity: 0\n        }))\n      ])\n    ]),\n  ]\n\n})\nexport class SpellsUseComponent implements OnInit, OnDestroy {\n\n  spellLevelsState: Observable<fromSpellLevels.State>;\n  spellsState:  Observable<fromSpells.State>;\n  selectAllSpells =  fromSpells.selectAll;\n  \n  constructor(private store: Store<AppState>,\n              private changeRef: ChangeDetectorRef) { }\n\n  ngOnInit() {\n    this.spellLevelsState = this.store.select('spellLevels');\n    this.spellsState = this.store.select('spells');\n  }\n\n  ngOnDestroy() {\n    this.store.dispatch(new StoreSpellMetaDatas());\n  }\n\n  spellRemovalDone(shouldDetectChanges: boolean) {\n    if (shouldDetectChanges) {\n      this.changeRef.detectChanges();\n    }\n  }\n\n  castSpellClicked(spell) {\n    this.store.dispatch(\n      new UpdateSpellMetaData({\n        spell: spell.name,\n        metaData: new SpellMetaData(\n          spell.metaData.known,\n          spell.metaData.preparedUses,\n          spell.metaData.remainingUses - 1)\n      })\n    );\n  }\n\n  onSpellInfoClicked(spell: Spell) {\n    alert(spell.description);\n  }\n\n  spellsTrackBy(index:number, spell:Spell) {\n    console.log(spell.name);\n    return spell.name;\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// /home/roy/Documents/Projects/spellbook/src/app/spells-use/spells-use.component.ts","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport {  SpellsUseComponent } from \"./spells-use.component\";\nimport { RouterModule } from '@angular/router';\n\nimport { KnownPipe } from \"../pipes/known.pipe\";\nimport { RemainingUsesPipe } from \"../pipes/remaining-uses.pipe\";\nimport { SharedModule } from '../shared/shared.module';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    RouterModule.forChild([\n      { path: '', component: SpellsUseComponent},\n    ]),\n    SharedModule\n  ],\n  declarations: [\n    SpellsUseComponent,    \n    KnownPipe,\n    RemainingUsesPipe\n  ]\n})\nexport class SpellsUseModule { }\n\n\n\n// WEBPACK FOOTER //\n// /home/roy/Documents/Projects/spellbook/src/app/spells-use/spells-use.module.ts"],"sourceRoot":"webpack:///"}