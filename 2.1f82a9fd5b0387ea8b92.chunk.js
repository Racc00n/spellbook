webpackJsonp([2],{"8Nq9":function(l,n,u){"use strict";function t(l){return i._18(0,[(l()(),i._0(0,0,null,null,1,"option",[],[[8,"value",0]],null,null,null,null)),(l()(),i._16(1,null,["",""]))],null,function(l,n){l(n,0,0,n.context.$implicit.label),l(n,1,0,n.context.$implicit.label)})}function e(l){return i._18(0,[(l()(),i._0(0,0,null,null,46,"tr",[],null,null,null,null,null)),(l()(),i._16(-1,null,["\n          "])),(l()(),i._0(2,0,null,null,5,"td",[],null,null,null,null,null)),(l()(),i._16(-1,null,["          \n            "])),(l()(),i._0(4,0,null,null,2,"app-number-picker",[],null,[[null,"input"]],function(l,n,u){var t=!0;return"input"===n&&(t=!1!==l.component.onPreparedUsesChanged(l.context.$implicit,u)&&t),t},r.b,r.a)),i.Z(5,114688,null,0,c.a,[],{max:[0,"max"],value:[1,"value"],disabled:[2,"disabled"]},{input:"input"}),(l()(),i._16(-1,null,["\n            "])),(l()(),i._16(-1,null,["         \n          "])),(l()(),i._16(-1,null,["\n          "])),(l()(),i._0(9,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),i._0(10,0,null,null,0,"i",[["class","fa fa-2x text-primary"]],[[2,"fa-check-square",null],[2,"fa-square-o",null]],[[null,"click"]],function(l,n,u){var t=!0;return"click"===n&&(t=!1!==l.component.onSpellKnownChange(l.context.$implicit)&&t),t},null,null)),(l()(),i._16(-1,null,["\n          "])),(l()(),i._0(12,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),i._16(13,null,["",""])),(l()(),i._16(-1,null,["\n          "])),(l()(),i._0(15,0,null,null,6,"td",[],null,null,null,null,null)),(l()(),i._16(16,null,["",""])),(l()(),i._0(17,0,null,null,0,"br",[],null,null,null,null,null)),(l()(),i._16(-1,null,["\n            "])),(l()(),i._0(19,0,null,null,1,"app-more-detail",[],null,null,null,p.b,p.a)),i.Z(20,114688,null,0,_.a,[],{text:[0,"text"]},null),(l()(),i._16(-1,null,["          \n          "])),(l()(),i._16(-1,null,["\n          "])),(l()(),i._0(23,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),i._16(24,null,["",""])),(l()(),i._16(-1,null,["\n          "])),(l()(),i._0(26,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),i._16(27,null,["",""])),(l()(),i._16(-1,null,["\n          "])),(l()(),i._0(29,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),i._16(30,null,["",""])),(l()(),i._16(-1,null,["\n          "])),(l()(),i._0(32,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),i._16(33,null,["",""])),(l()(),i._16(-1,null,["\n          "])),(l()(),i._0(35,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),i._16(36,null,["",""])),(l()(),i._16(-1,null,["\n          "])),(l()(),i._0(38,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),i._16(39,null,["",""])),(l()(),i._16(-1,null,["\n          "])),(l()(),i._0(41,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),i._16(42,null,["",""])),(l()(),i._16(-1,null,["\n          "])),(l()(),i._0(44,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),i._16(45,null,["",""])),(l()(),i._16(-1,null,["\n        "]))],function(l,n){var u=n.component;l(n,5,0,u.totalAllowedSpells-u.totalPreparedSpells+n.context.$implicit.metaData.preparedUses,n.context.$implicit.metaData.preparedUses,!n.context.$implicit.metaData.known),l(n,20,0,n.context.$implicit.description)},function(l,n){l(n,10,0,n.context.$implicit.metaData.known,!n.context.$implicit.metaData.known),l(n,13,0,n.context.$implicit.name),l(n,16,0,n.context.$implicit.shortdescription),l(n,24,0,n.context.$implicit.school),l(n,27,0,n.context.$implicit.components),l(n,30,0,n.context.$implicit.castingtime),l(n,33,0,n.context.$implicit.range),l(n,36,0,n.context.$implicit.target||n.context.$implicit.effect||n.context.$implicit.area),l(n,39,0,n.context.$implicit.duration),l(n,42,0,n.context.$implicit.savingthrow),l(n,45,0,n.context.$implicit.spellresistance)})}function s(l){return i._18(0,[(l()(),i._0(0,0,null,null,1,"div",[["class","alert alert-success"],["role","alert"]],[[24,"@alert",0]],null,null,null,null)),(l()(),i._16(-1,null,["\n      All your spells have been replenished\n    "]))],null,function(l,n){l(n,0,0,void 0)})}function a(l){return i._18(0,[i._13(0,f.a,[]),(l()(),i._0(1,0,null,null,90,"div",[["class","root"]],null,null,null,null,null)),(l()(),i._16(-1,null,["\n  "])),(l()(),i._0(3,0,null,null,9,"h1",[],null,null,null,null,null)),(l()(),i._16(-1,null,["\n    "])),(l()(),i._0(5,0,null,null,2,"a",[["routerLink","/spells-per-day"],["title","Spells Per Day"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(l,n,u){var t=!0;return"click"===n&&(t=!1!==i._11(l,6).onClick(u.button,u.ctrlKey,u.metaKey,u.shiftKey)&&t),t},null,null)),i.Z(6,671744,null,0,h.l,[h.k,h.a,m.h],{routerLink:[0,"routerLink"]},null),(l()(),i._0(7,0,null,null,0,"i",[["aria-hidden","true"],["class","fa fa-chevron-left"]],null,null,null,null,null)),(l()(),i._16(-1,null,["\n    Spells Setup\n    "])),(l()(),i._0(9,0,null,null,2,"a",[["routerLink","/spells-use"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(l,n,u){var t=!0;return"click"===n&&(t=!1!==i._11(l,10).onClick(u.button,u.ctrlKey,u.metaKey,u.shiftKey)&&t),t},null,null)),i.Z(10,671744,null,0,h.l,[h.k,h.a,m.h],{routerLink:[0,"routerLink"]},null),(l()(),i._0(11,0,null,null,0,"i",[["aria-hidden","true"],["class","fa fa-chevron-right"]],null,null,null,null,null)),(l()(),i._16(-1,null,["\n  "])),(l()(),i._16(-1,null,["\n  "])),(l()(),i._0(14,0,null,null,18,"div",[["class","spell-controls"]],null,null,null,null,null)),(l()(),i._16(-1,null,["\n    "])),(l()(),i._0(16,0,null,null,1,"label",[],null,null,null,null,null)),(l()(),i._16(17,null,["Spell Level (","/",")"])),(l()(),i._16(-1,null,["\n    "])),(l()(),i._0(19,0,null,null,9,"select",[["class","custom-select"]],[[8,"value",0]],[[null,"change"]],function(l,n,u){var t=!0;return"change"===n&&(t=!1!==l.component.onSelectedSpellLevelChange(u.target.value)&&t),t},null,null)),i._13(131072,m.b,[i.h]),(l()(),i._16(-1,null,["  \n      "])),(l()(),i._0(22,0,null,null,1,"option",[["disabled",""],["selected",""],["value",""]],null,null,null,null,null)),(l()(),i._16(-1,null,["Select"])),(l()(),i._16(-1,null,["\n      "])),(l()(),i.V(16777216,null,null,2,null,t)),i.Z(26,802816,null,0,m.i,[i.K,i.H,i.p],{ngForOf:[0,"ngForOf"]},null),i._13(131072,m.b,[i.h]),(l()(),i._16(-1,null,["\n    "])),(l()(),i._16(-1,null,["\n    "])),(l()(),i._0(30,0,null,null,1,"button",[["class","btn btn-success"]],[[8,"disabled",0]],[[null,"click"]],function(l,n,u){var t=!0;return"click"===n&&(t=!1!==l.component.onReplenishClicked()&&t),t},null,null)),(l()(),i._16(-1,null,["Replenish"])),(l()(),i._16(-1,null,["\n  "])),(l()(),i._16(-1,null,["\n  "])),(l()(),i._0(34,0,null,null,56,"div",[["class","content"]],null,null,null,null,null)),(l()(),i._16(-1,null,["\n    "])),(l()(),i._0(36,0,null,null,50,"table",[["class","table"]],null,null,null,null,null)),(l()(),i._16(-1,null,["\n      "])),(l()(),i._0(38,0,null,null,37,"thead",[["class","thead-light"]],null,null,null,null,null)),(l()(),i._16(-1,null,["\n        "])),(l()(),i._0(40,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),i._16(-1,null,["Uses"])),(l()(),i._16(-1,null,["\n        "])),(l()(),i._0(43,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),i._16(-1,null,["Known"])),(l()(),i._16(-1,null,["\n        "])),(l()(),i._0(46,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),i._16(-1,null,["Name"])),(l()(),i._16(-1,null,["\n        "])),(l()(),i._0(49,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),i._16(-1,null,["Description(short)"])),(l()(),i._16(-1,null,["\n        "])),(l()(),i._0(52,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),i._16(-1,null,["School"])),(l()(),i._16(-1,null,["\n        "])),(l()(),i._0(55,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),i._16(-1,null,["Components"])),(l()(),i._16(-1,null,["\n        "])),(l()(),i._0(58,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),i._16(-1,null,["Casting Time"])),(l()(),i._16(-1,null,["\n        "])),(l()(),i._0(61,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),i._16(-1,null,["Range"])),(l()(),i._16(-1,null,["\n        "])),(l()(),i._0(64,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),i._16(-1,null,["Target/Effect/Area"])),(l()(),i._16(-1,null,["\n        "])),(l()(),i._0(67,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),i._16(-1,null,["Duration"])),(l()(),i._16(-1,null,["\n        "])),(l()(),i._0(70,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),i._16(-1,null,["Save"])),(l()(),i._16(-1,null,["\n        "])),(l()(),i._0(73,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),i._16(-1,null,["Spell Resistance"])),(l()(),i._16(-1,null,["\n      "])),(l()(),i._16(-1,null,["\n      "])),(l()(),i._0(77,0,null,null,8,"tbody",[],null,null,null,null,null)),(l()(),i._16(-1,null,["\n        "])),(l()(),i.V(16777216,null,null,5,null,e)),i.Z(80,802816,null,0,m.i,[i.K,i.H,i.p],{ngForOf:[0,"ngForOf"]},null),i._13(131072,m.b,[i.h]),i._13(131072,m.b,[i.h]),i._13(131072,m.b,[i.h]),i._14(84,3),(l()(),i._16(-1,null,["\n      "])),(l()(),i._16(-1,null,["\n    "])),(l()(),i._16(-1,null,["\n    "])),(l()(),i.V(16777216,null,null,1,null,s)),i.Z(89,16384,null,0,m.j,[i.K,i.H],{ngIf:[0,"ngIf"]},null),(l()(),i._16(-1,null,["\n  "])),(l()(),i._16(-1,null,["  \n"])),(l()(),i._16(-1,null,["\n"]))],function(l,n){var u=n.component;l(n,6,0,"/spells-per-day"),l(n,10,0,"/spells-use"),l(n,26,0,i._17(n,26,0,i._11(n,27).transform(u.spellLevelsState)).spellLevels),l(n,80,0,i._17(n,80,0,l(n,84,0,i._11(n,0),u.selectAllSpells(i._17(n,80,0,i._11(n,81).transform(u.spellsState))),i._17(n,80,0,i._11(n,82).transform(u.spellLevelsState)).selectedSpellLevelLabel,i._17(n,80,0,i._11(n,83).transform(u.spellsState)).spellClass))),l(n,89,0,u.replenishClicked)},function(l,n){var u=n.component;l(n,5,0,i._11(n,6).target,i._11(n,6).href),l(n,9,0,i._11(n,10).target,i._11(n,10).href),l(n,17,0,u.totalPreparedSpells,u.totalAllowedSpells),l(n,19,0,i._17(n,19,0,i._11(n,20).transform(u.spellLevelsState)).selectedSpellLevelLabel),l(n,30,0,u.replenishClicked)})}Object.defineProperty(n,"__esModule",{value:!0});var i=u("LMZF"),o=function(){},r=u("GRKX"),c=u("D/Gl"),p=u("yhxD"),_=u("FJZS"),f=u("VjqP"),h=u("UHIZ"),m=u("Un6q"),d=u("41QK"),v=u("x/P0"),b=u("XwvW"),S=u("AP4T"),g=u("6Xbx"),y=u("E9/g"),k=u("2kvl"),x=u("Ecq+"),w=function(){function l(l){if(this.total=l,this.total<0)throw new k.a}return l.prototype.call=function(l,n){return n.subscribe(new L(l,this.total))},l}(),L=function(l){function n(n,u){l.call(this,n),this.total=u,this.count=0}return Object(g.c)(n,l),n.prototype._next=function(l){var n=this.total,u=++this.count;u<=n&&(this.destination.next(l),u===n&&(this.destination.complete(),this.unsubscribe()))},n}(y.a);S.a.prototype.take=function(l){return function(l){return function(n){return 0===l?new x.a:n.lift(new w(l))}}(l)(this)};var D=this&&this.__assign||Object.assign||function(l){for(var n,u=1,t=arguments.length;u<t;u++){n=arguments[u];for(var e in n)Object.prototype.hasOwnProperty.call(n,e)&&(l[e]=n[e])}return l},$=function(){function l(l){this.store=l,this.selectAllSpells=b.b}return l.prototype.ngOnInit=function(){var l=this;this.spellLevelsState=this.store.select("spellLevels"),this.spellsState=this.store.select("spells"),this.totalPreparedSpells=0,this.totalAllowedSpells=0,this.spellLevelSubscription=this.spellLevelsState.subscribe(function(n){for(var u=0,t=n.spellLevels;u<t.length;u++){var e=t[u];if(e.label===n.selectedSpellLevelLabel){l.totalAllowedSpells=e.numOfSpells;break}}var s,a;l.spellsState.take(1).subscribe(function(l){a=l.spellClass,s=b.b(l)}),l.totalPreparedSpells=0,(new f.a).transform(s,n.selectedSpellLevelLabel,a).map(function(n){return l.totalPreparedSpells+=n.metaData.preparedUses})})},l.prototype.ngOnDestroy=function(){this.store.dispatch(new v.d),this.spellLevelSubscription.unsubscribe()},l.prototype.onSelectedSpellLevelChange=function(l){this.store.dispatch(new d.e(l))},l.prototype.onPreparedUsesChanged=function(l,n){this.totalPreparedSpells+=n-l.metaData.preparedUses,this.store.dispatch(new v.e({spell:l.name,metaData:D({},l.metaData,{preparedUses:n,remainingUses:n})}))},l.prototype.onReplenishClicked=function(){var l,n=this;this.spellsState.take(1).subscribe(function(n){l=b.b(n)});for(var u=0,t=l;u<t.length;u++){var e=t[u];e.metaData.known&&e.metaData.preparedUses>0&&this.store.dispatch(new v.e({spell:e.name,metaData:D({},e.metaData,{remainingUses:e.metaData.preparedUses})}))}this.replenishClicked=!0,setTimeout(function(){n.replenishClicked=!1},1500)},l.prototype.onSpellKnownChange=function(l){var n=D({},l.metaData,{known:!l.metaData.known});this.store.dispatch(new v.e({spell:l.name,metaData:n}))},l.prototype.onSpellInfoClicked=function(l){alert(l.description)},l}(),C=u("ADVA"),P=i.Y({encapsulation:0,styles:[['.spell-controls[_ngcontent-%COMP%]{-webkit-box-flex:"0 0 auto";-ms-flex:"0 0 auto";flex:"0 0 auto"}.alert-success[_ngcontent-%COMP%]{margin-bottom:0;position:fixed;bottom:0;right:0;left:0}']],data:{animation:[{type:7,name:"alert",definitions:[{type:1,expr:":enter",animation:[{type:6,styles:{transform:"translateY(100%)"},offset:null},{type:4,styles:{type:6,styles:{transform:"translateY(0)"},offset:null},timings:250}],options:null},{type:1,expr:":leave",animation:[{type:6,styles:{transform:"translateY(0)"},offset:null},{type:4,styles:{type:6,styles:{transform:"translateY(100%)"},offset:null},timings:250}],options:null}],options:{}}]}}),K=i.W("app-spells-setup",$,function(l){return i._18(0,[(l()(),i._0(0,0,null,null,1,"app-spells-setup",[],null,null,null,a,P)),i.Z(1,245760,null,0,$,[C.l],null,null)],function(l,n){l(n,1,0)},null)},{},{},[]),O=u("T2Au");u.d(n,"SpellsSetupModuleNgFactory",function(){return U});var U=i.X(o,[],function(l){return i._9([i._10(512,i.j,i.T,[[8,[K]],[3,i.j],i.u]),i._10(4608,m.l,m.k,[i.r,[2,m.p]]),i._10(512,m.c,m.c,[]),i._10(512,h.m,h.m,[[2,h.r],[2,h.k]]),i._10(512,O.a,O.a,[]),i._10(512,o,o,[]),i._10(1024,h.i,function(){return[[{path:"",component:$}]]},[])])})}});